diff --git a/src/glx/glx_pbuffer.c b/src/glx/glx_pbuffer.c
index 231ab20..acfbe65 100644
--- a/src/glx/glx_pbuffer.c
+++ b/src/glx/glx_pbuffer.c
@@ -35,6 +35,8 @@
 #include <X11/extensions/Xext.h>
 #include <assert.h>
 #include <string.h>
+#include <unistd.h>
+#include <limits.h>
 #include "glxextensions.h"
 
 #ifdef GLX_USE_APPLEGL
@@ -61,10 +63,13 @@ warn_GLX_1_3(Display * dpy, const char *function_name)
    struct glx_display *priv = __glXInitialize(dpy);
 
    if (priv && priv->minorVersion < 3) {
+      char buf[PATH_MAX];
+      if (readlink("/proc/self/exe", buf, PATH_MAX) == -1)
+         buf[0] = '\0';
       fprintf(stderr,
-              "WARNING: Application calling GLX 1.3 function \"%s\" "
+              "WARNING: Application %s calling GLX 1.3 function \"%s\" "
               "when GLX 1.3 is not supported!  This is an application bug!\n",
-              function_name);
+              buf, function_name);
    }
 }
 
